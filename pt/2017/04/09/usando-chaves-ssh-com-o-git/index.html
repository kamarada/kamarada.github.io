<!DOCTYPE html>
<html lang="pt" prefix="
    addthis: http://www.addthis.com/help/api-spec
    og: http://ogp.me/ns#
    fb: http://ogp.me/ns/fb#
    article: http://ogp.me/ns/article#">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    
        <script type="text/javascript">
            if (("kamarada.github.io" == window.location.host) && (window.location.protocol != "https:")) {
                window.location = window.location.toString().replace(/^http:/, "https:");
            }
        </script>
    

    <title>
        
            
                Usando chaves SSH com o Git - Linux Kamarada
            
        
    </title>
    <meta name="author" content="Antônio Vinícius">
    <meta name="description" content="Esse post é para os desenvolvedores. Se você utiliza o sistema de controle de versão Git em conjunto com algum servidor como o GitHub ou o Bitbucket para hos...">
    <link rel="canonical" href="https://kamarada.github.io/pt/2017/04/09/usando-chaves-ssh-com-o-git/">
    <link rel="alternate" type="application/rss+xml" title="Linux Kamarada" href="https://kamarada.github.io/pt/feed.xml" />

    
        
    
    
        
    

    <!-- OpenSearch -->
    <link rel="search" type="application/opensearchdescription+xml" title="Pesquisar Linux Kamarada" href="https://kamarada.github.io/pt/opensearch.xml" />

    <!-- Open Graph -->
    
        <meta property="article:published_time" content="2017-04-09 17:00:00 -0300"/>
    
    
    
        <meta property="fb:page_id" content="1700979763454346" />
    
    
        <meta property="og:author" content="Antônio Vinícius" />
    
    <meta property="og:description" content="Esse post é para os desenvolvedores. Se você utiliza o sistema de controle de versão Git em conjunto com algum servidor como o GitHub ou o Bitbucket para hos..." />
    
        <meta property="og:image" content="https://kamarada.github.io/files/2017/04/git-ssh.png" />
    
    <meta property="og:site_name" content="Linux Kamarada" />
    <meta property="og:title" content="Usando chaves SSH com o Git" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://kamarada.github.io/pt/2017/04/09/usando-chaves-ssh-com-o-git/" />

    <!-- Twitter Cards -->
    <meta name="twitter:card" content="summary" />
    
        <meta name="twitter:site" content="@LinuxKamarada" />
    

    <!-- Favicons (made with RealFaviconGenerator.net) -->
    <link rel="apple-touch-icon" sizes="180x180" href="https://kamarada.github.io/apple-touch-icon.png?v=2">
    <link rel="icon" type="image/png" sizes="32x32" href="https://kamarada.github.io/favicon-32x32.png?v=2">
    <link rel="icon" type="image/png" sizes="16x16" href="https://kamarada.github.io/favicon-16x16.png?v=2">
    <link rel="manifest" href="https://kamarada.github.io/manifest.json?v=2">
    <link rel="shortcut icon" href="https://kamarada.github.io/favicon.ico?v=2">
    <meta name="theme-color" content="#4caf50">

    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!--<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-material-design/0.5.10/css/bootstrap-material-design.min.css">-->
    <link rel="stylesheet" href="/libs/bootstrap-material-design/0.5.10/custom/bootstrap-material-design.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-material-design/0.5.10/css/ripples.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/assets/css/syntax.css">
    <link rel="stylesheet" href="/assets/css/main.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- JS -->
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-material-design/0.5.10/js/material.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-material-design/0.5.10/js/ripples.min.js"></script>
    <script src="/assets/js/main.js"></script>

    
        <!-- Google Analytics -->
        <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-65333685-3', 'auto');
        ga('send', 'pageview', {
            'page': 'https://kamarada.github.io/pt/2017/04/09/usando-chaves-ssh-com-o-git/',
            'title': 'Usando chaves SSH com o Git'
        });

        </script>
        <!-- End Google Analytics -->
    

    
        <!-- Google AdSense -->
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    

    
        <!-- AddThis -->
        <script async src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-563f92aa117815bd"></script>
        <script type="text/javascript">
            var addthis_config = {
                data_track_clickback: true,
                data_track_addressbar: true,
                
                    ui_language: 'pt'
                
            };
            var addthis_share = {
                url: 'https://kamarada.github.io/pt/2017/04/09/usando-chaves-ssh-com-o-git/',
                title: document.title,
                description: 'Esse post é para os desenvolvedores. Se você utiliza o sistema de controle de versão Git em conjunto com algum servidor como o GitHub ou o Bitbucket para hos...'
            };
        </script>
        <!-- End AddThis -->
    
</head>


<body itemscope itemtype="http://schema.org/BlogPosting">

    <nav class="navbar navbar-default navbar-fixed-top navbar-with-search" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed pull-left" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">
                
                    Linux Kamarada
                
            </a>
        </div><!--.navbar-header-->

        <form class="navbar-form">
            <div class="dropdown pull-left">
                <a class="dropdown-toggle" id="language-button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" title="Traduções"><span class="glyphicon glyphicon-globe" aria-hidden="true"></span></a>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="language-button">
                    
                        
                    
                    
                        <li class="dropdown-header">English</li>
                        
                        
                            <li>
                                <a href="http://translate.google.com/translate?js=n&sl=pt&tl=en&u=https://kamarada.github.io/pt/2017/04/09/usando-chaves-ssh-com-o-git/">This page in English</a>
                            </li>
                        
                        <li><a href="https://kamarada.github.io/en/">English home page</a></li>
                        <li role="separator" class="divider"></li>
                    
                        <li class="dropdown-header">Português</li>
                        
                        
                            <li>
                                <a class="translation-pt" href="https://kamarada.github.io/pt/2017/04/09/usando-chaves-ssh-com-o-git/">Esta página em Português</a>
                            </li>
                        
                        <li><a href="https://kamarada.github.io/pt/">Página inicial em Português</a></li>
                        <li role="separator" class="divider"></li>
                    
                    <li class="dropdown-header">Other languages (by Google Translate)</li>
                    <li><a href="http://translate.google.com/translate?js=n&sl=pt&u=https://kamarada.github.io/pt/2017/04/09/usando-chaves-ssh-com-o-git/">Translate this page</a></li>
                </ul>
            </div><!--.dropdown-->
            <a class="pull-left" id="search-button" title="Pesquisar"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></a>
        </form><!--.navbar-form-->

        <div class="collapse navbar-collapse" id="navbar">
            <ul class="nav navbar-nav navbar-right">
                
                    
                

                
                    
                        <li><a href="/pt/download/leap/42.2/">Download</a></li>
                    
                
            </ul>
        </div><!--#navbar-->
    </div><!--.container-->

    <div id="search-bar">
        <div class="container">
            <form action="/pt/buscar/" id="search-form" method="get" role="search">
                
                
                <div class="input-group">
                    <input class="form-control" id="search-input" type="text" name="q" placeholder="Pesquisar">
                    <span class="input-group-btn">
                        <button type="submit" class="btn btn-primary" id="submit-search-button"><span class="glyphicon glyphicon-search"></span></button>
                        <button type="reset" class="btn btn-danger" id="reset-search-button"><span class="glyphicon glyphicon-remove"></span></button>
                    </span>
                </div>
            </form>
        </div>
    </div><!--#search-bar-->
</nav>


    <div class="container">
        <div class="row">
            <div class='col-sm-8'>
                <!--<div class='gap-small'>
                    <a class='gap-small' href='http://en.opensuse.org/Portal:42.2'>
                        <img class='img-responsive' id='countdown' src='http://countdown.opensuse.org/wide.png'/>
                    </a>
                </div>-->
                <div class="blog-post panel panel-default">
    <header class="panel-heading">
        <h1 class="blog-post-title" itemprop="headline name">
            <a class="blog-post-link" href="/pt/2017/04/09/usando-chaves-ssh-com-o-git/" itemprop="mainEntityOfPage url">
                Usando chaves SSH com o Git
            </a>
        </h1>
        <div class="blog-post-meta row">
            <div class='col-sm-6'>
                <p class="blog-post-date" itemprop="datePublished" content="2017-04-09">
                    <a href="/2017/04/09/">
                        
    09 de
    
    Abril
        
    de 2017


                    </a>
                </p>
                <meta itemprop="dateModified" content="2017-04-09" />
            </div>
            <div class='col-sm-6'>
                
                    <div class='blog-post-share'>
                        <!-- AddThis Sharing Buttons -->
                        <div class="addthis_toolbox addthis_default_style">
                            <a class="addthis_button_facebook"></a>
                            <a class="addthis_button_twitter" data-via="LinuxKamaradaWW"></a>
                            <a class="addthis_button_google_plusone_share"></a>
                            <a class="addthis_button_favorites"></a>
                            <a class="addthis_button_compact"></a>
                            <a class="addthis_counter addthis_bubble_style"></a>
                        </div>
                        <!-- AddThis Sharing Buttons End -->
                    </div><!-- .blog-post-share -->
                
            </div><!-- .col-sm-6 -->
        </div><!-- .blog-post-meta -->
    </header>

    <article class="blog-post-content panel-body">
        
            <!-- Google AdSense -->
<div class="row">
    <div class="col-xs-12">
        <ins class="adsbygoogle" id="content_ad_unit_1"
            data-ad-client="ca-pub-5193467168351289"
            data-ad-format="auto"
            data-ad-slot="8945658251"></ins>
    </div><!-- .col-xs-12 -->
</div><!-- .row -->
<!-- End Google AdSense -->

        

        <div class="row" itemprop="articleBody mainEntity">
            <div class="col-xs-12">
                <p>Esse <em>post</em> é para os desenvolvedores. Se você utiliza o sistema de controle de versão <a href="https://git-scm.com/">Git</a> em conjunto com algum servidor como o <a href="https://github.com/">GitHub</a> ou o <a href="https://bitbucket.org/">Bitbucket</a> para hospedar e gerenciar seus projetos, deve saber que por padrão a conexão com esses servidores é feita pelo protocolo <a href="https://pt.wikipedia.org/wiki/Hyper_Text_Transfer_Protocol_Secure">HTTPS</a>. Isso obriga você a digitar usuário e senha toda vez que vai executar um comando como <code>git pull</code> ou <code>git push</code>.</p>

<p>Usando o protocolo <a href="https://pt.wikipedia.org/wiki/Secure_Shell">SSH</a>, você pode se conectar a servidores remotos e se autenticar para utilizar seus serviços. Tanto o GitHub como o Bitbucket permitem que o Git se conecte a seus servidores via SSH em vez de HTTPS. A conexão feita com criptografia de chaves dispensa o fornecimento de usuário e senha para cada comando.</p>

<p>Veremos nesse <em>post</em> como utilizar o GitHub e o Bitbucket com chaves SSH.</p>

<div class='image no-ads-here text-center' itemscope itemtype='http://schema.org/ImageObject'>
<a href='/files/2017/04/git-ssh.png' title=''>
<img src='/files/2017/04/git-ssh.png' alt='' class='img-responsive img-thumbnail' itemprop='contentUrl'>
</a>

</div>

<h2>Verifique se há um cliente SSH instalado</h2>

<p>Para utilizar o protocolo SSH, você precisa ter um cliente SSH instalado no seu computador. No <a href="https://www.opensuse.org/">openSUSE</a>, ele já vem instalado por padrão.</p>

<p>Por desencargo de consciência, apenas para verificar, abra o terminal e execute:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$ ssh -V 
</code></pre></div>
<p>Esse comando deve retornar informações sobre a versão do cliente SSH instalado:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">OpenSSH_7.2p2, OpenSSL 1.0.2j-fips  26 Sep 2016
</code></pre></div>
<p>Caso o sistema informe que o comando <strong>ssh</strong> não foi encontrado, você pode instalar o cliente do <a href="https://www.openssh.com/">OpenSSH</a> executando:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text"># zypper in openssh
</code></pre></div>
<h2>Verifique se você já possui um par de chaves SSH</h2>

<p>Para utilizar o protocolo SSH, você precisa gerar um par de chaves SSH (uma pública e uma privada). Se você nunca utilizou o SSH, pode pular esse tópico e seguir para o próximo. Se você já o utilizou alguma vez (como em um <em>post</em> anterior, em que fizemos acesso remoto a um <a href="/pt/2017/02/18/levante-um-servidor-com-o-linux-opensuse-leap-parte-2/">servidor com o openSUSE</a>), é possível que já tenha um par de chaves SSH. Nesse caso, pode não ser necessário gerar um novo par de chaves.</p>

<p>Como não custa verificar, abra o terminal e execute:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$ ls -lah ~/.ssh
</code></pre></div>
<p>Esse comando deve listar os arquivos da pasta <code>~/.ssh</code>, que é onde o SSH guarda seus arquivos de configuração:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">total 40K
drwx------  2 viny users 4,0K Abr  9 11:42 .
drwxr-xr-x 54 viny users  12K Abr  9 12:00 ..
-rw-------  1 viny users 3,2K Abr  9 10:48 id_rsa
-rw-r--r--  1 viny users  748 Abr  9 10:48 id_rsa.pub
-rw-------  1 viny users 5,1K Abr  9 11:59 known_hosts
</code></pre></div>
<p>Se ele informar que a pasta <code>~/.ssh</code> não existe, não se preocupe: significa que você ainda não tem um par de chaves SSH. Nesse caso, prossiga para o próximo tópico.</p>

<p>Por padrão, as chaves públicas SSH são nomeadas como:</p>

<ul>
<li>id_dsa.pub;</li>
<li>id_ecdsa.pub;</li>
<li>id_ed25519.pub; ou</li>
<li>id_rsa.pub.</li>
</ul>

<p>No exemplo, a pasta <code>~/.ssh</code> possui um par de chaves SSH (a privada chamada <code>id_rsa</code> e a pública, <code>id_rsa.pub</code>) criadas hoje (<code>Abr 9 10:48</code>).</p>

<p>Por questões de segurança, é recomendado que você gere um novo par de chaves SSH ao menos uma vez por ano. Se você já possui um par de chaves SSH que foi criado há mais de ano, é recomendado que você prossiga para o próximo tópico.</p>

<p>Se você já possui um par de chaves SSH e quer reutilizá-lo, pule o próximo tópico.</p>

<h2>Gere um novo par de chaves SSH</h2>

<p>Para gerar um novo par de chaves SSH, abra o terminal e execute o seguinte comando (substitua <code>seuemail@exemplo.com.br</code> pelo seu endereço de <em>e-mail</em>):</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$ ssh-keygen -t rsa -b 4096 -C &quot;seuemail@exemplo.com.br&quot;

Generating public/private rsa key pair.
Enter file in which to save the key (/home/seunomedeusuario/.ssh/id_rsa):
</code></pre></div>
<p>O programa pergunta onde salvar a chave privada (<code>id_rsa</code>).</p>

<p>Pressione <strong>Enter</strong> para aceitar a localização padrão.</p>

<p>Caso você já tenha uma chave privada, ele pergunta se deve sobrescrevê-la:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">/home/seunomedeusuario/.ssh/id_rsa already exists.
Overwrite (y/n)? 
</code></pre></div>
<p>Nesse caso, digite <code>y</code> e tecle <strong>Enter</strong>.</p>

<p>Em seguida, você deve digitar e confirmar uma <a href="https://pt.wikipedia.org/wiki/Frase-passe">frase-senha</a> (do inglês <em>passphrase</em>, entenda como &quot;uma senha longa&quot;):</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Enter passphrase (empty for no passphrase): 
Enter same passphrase again: 
</code></pre></div>
<p>Digite a frase-senha e tecle <strong>Enter</strong>. Depois, faça isso de novo para confirmá-la.</p>

<p>O programa cria o par de chaves SSH em <code>~/.ssh</code>.</p>

<p>Toda a interação deve gerar algo parecido com:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">seunomedeusuario@seucomputador:~&gt; ssh-keygen -t rsa -b 4096 -C &quot;seuemail@exemplo.com.br&quot;
Generating public/private rsa key pair.
Enter file in which to save the key (/home/seunomedeusuario/.ssh/id_rsa): 
Enter passphrase (empty for no passphrase): 
Enter same passphrase again: 
Your identification has been saved in /home/seunomedeusuario/.ssh/id_rsa.
Your public key has been saved in /home/seunomedeusuario/.ssh/id_rsa.pub.
The key fingerprint is:
SHA256:aUAiURCvurcsQx98Ber8OzMLqwYlWup1aFD5JAU6X9U seuemail@exemplo.com.br
The key&#39;s randomart image is:
+---[RSA 4096]----+
|  =**....        |
|  .* =.  E       |
| o. *.o          |
|..=o.. o .       |
|.=*.. . S        |
|+o O o .         |
|= +.=            |
|o=..o=           |
|o=+o o*          |
+----[SHA256]-----+org/product
seunomedeusuario@seucomputador:~&gt;
</code></pre></div>
<h2>Adicione a chave privada ao agente SSH</h2>

<p>Se você não quiser digitar sua frase-senha toda vez em que for se conectar via SSH, você pode adicionar sua chave privada ao <a href="https://pt.wikipedia.org/wiki/Ssh-agent">agente SSH</a>, responsável por gerenciar as chaves SSH e armazenar suas frases-senha de forma segura.</p>

<p>Para isso, inicie o agente SSH em <em>background</em>:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$ eval &quot;$(ssh-agent -s)&quot;
</code></pre></div>
<p>A saída desse comando é o <a href="https://pt.wikipedia.org/wiki/Identificador_de_processo">identificador do processo</a> (<em>process identifier</em> ou <strong>PID</strong>) do agente SSH:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Agent pid 21201
</code></pre></div>
<p>Finalmente, adicione sua chave privada SSH ao agente:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$ ssh-add ~/.ssh/id_rsa
</code></pre></div>
<p>Digite a frase-senha e tecle <strong>Enter</strong>:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Enter passphrase for /home/seunomedeusuario/.ssh/id_rsa: 
</code></pre></div>
<p>O comando confirma que a chave foi adicionada ao agente:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Identity added: /home/seunomedeusuario/.ssh/id_rsa (/home/seunomedeusuario/.ssh/id_rsa)
</code></pre></div>
<p>Feito isso, você já pode configurar a conexão via SSH com o GitHub ou o Bitbucket.</p>

<h2>Adicione sua chave SSH à sua conta do GitHub</h2>

<p>Para se conectar ao GitHub utilizando SSH, você deve associar sua chave pública à sua conta do GitHub.</p>

<p>Sua chave pública está no arquivo <code>~/.ssh/id_rsa.pub</code>.</p>

<p>Para copiá-la, utilize o comando <strong>xclip</strong>:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$ xclip -sel clip &lt; ~/.ssh/id_rsa.pub
</code></pre></div>
<p>O <a href="https://github.com/astrand/xclip"><strong>xclip</strong></a> é um utilitário que permite, via interface textual, acessar a <a href="https://pt.wikipedia.org/wiki/%C3%81rea_de_transfer%C3%AAncia">área de transferência (<em>clipboard</em>)</a> da interface gráfica.</p>

<p>Caso ele não esteja instalado no seu sistema, você pode instalá-lo executando:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text"># zypper install xclip
</code></pre></div>
<p>Usando o navegador, acesse a página inicial do GitHub em <a href="https://github.com/">github.com</a> e entre na sua conta clicando em <strong>Sign in</strong>. No canto superior direito da página, clique na sua foto de perfil e depois em <strong>Settings</strong> (configurações):</p>

<div class='image no-ads-here text-center' itemscope itemtype='http://schema.org/ImageObject'>
<a href='/files/2017/04/git-ssh-01.jpg' title=''>
<img src='/files/2017/04/git-ssh-01.jpg' alt='' class='img-responsive img-thumbnail' itemprop='contentUrl'>
</a>

</div>

<p>Na barra lateral, clique em <strong>SSH and GPG keys</strong> (chaves SSH e <a href="https://pt.wikipedia.org/wiki/GNU_Privacy_Guard">GPG</a>). Depois, clique em <strong>New SSH key</strong> (nova chave SSH).</p>

<p>Preencha o campo <strong>Title</strong> (título) com um nome descritivo para a nova chave (pode ser, por exemplo, o nome do seu computador) e cole sua chave pública no campo <strong>Key</strong> (chave). Finalmente, clique em <strong>Add SSH key</strong> (adicionar chave SSH):</p>

<div class='image no-ads-here text-center' itemscope itemtype='http://schema.org/ImageObject'>
<a href='/files/2017/04/git-ssh-02.jpg' title=''>
<img src='/files/2017/04/git-ssh-02.jpg' alt='' class='img-responsive img-thumbnail' itemprop='contentUrl'>
</a>

</div>

<p>Agora a chave aparece na lista de chaves SSH associadas à conta:</p>

<div class='image no-ads-here text-center' itemscope itemtype='http://schema.org/ImageObject'>
<a href='/files/2017/04/git-ssh-03.jpg' title=''>
<img src='/files/2017/04/git-ssh-03.jpg' alt='' class='img-responsive img-thumbnail' itemprop='contentUrl'>
</a>

</div>

<h2>Adicione sua chave SSH à sua conta do Bitbucket</h2>

<p>O processo para o Bitbucket é bastante semelhante.</p>

<p>Copie sua chave pública utilizando o comando <strong>xclip</strong>:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$ xclip -sel clip &lt; ~/.ssh/id_rsa.pub
</code></pre></div>
<p>Usando o navegador, acesse a página inicial do Bitbucket em <a href="https://bitbucket.org/">bitbucket.org</a> e entre na sua conta clicando em <strong>Log in</strong>. No canto superior direito da página, clique na sua foto de perfil e depois em <strong>Bitbucket settings</strong> (configurações do Bitbucket):</p>

<div class='image no-ads-here text-center' itemscope itemtype='http://schema.org/ImageObject'>
<a href='/files/2017/04/git-ssh-04-pt.jpg' title=''>
<img src='/files/2017/04/git-ssh-04-pt.jpg' alt='' class='img-responsive img-thumbnail' itemprop='contentUrl'>
</a>

</div>

<p>Note que a interface do Bitbucket é traduzida, mas apenas em parte.</p>

<p>Na barra lateral, na seção <strong>Segurança</strong>, clique em <strong>Chaves SSH</strong>. Depois, clique em <strong>Adicionar chave</strong>.</p>

<p>Preencha o campo <strong>Label</strong> (rótulo) com um nome descritivo para a nova chave (pode ser, por exemplo, o nome do seu computador) e cole sua chave pública no campo <strong>Key</strong> (chave). Finalmente, clique em <strong>Adicionar chave</strong>:</p>

<div class='image no-ads-here text-center' itemscope itemtype='http://schema.org/ImageObject'>
<a href='/files/2017/04/git-ssh-05-pt.jpg' title=''>
<img src='/files/2017/04/git-ssh-05-pt.jpg' alt='' class='img-responsive img-thumbnail' itemprop='contentUrl'>
</a>

</div>

<p>Agora a chave aparece na lista de chaves SSH associadas à conta:</p>

<div class='image no-ads-here text-center' itemscope itemtype='http://schema.org/ImageObject'>
<a href='/files/2017/04/git-ssh-06-pt.jpg' title=''>
<img src='/files/2017/04/git-ssh-06-pt.jpg' alt='' class='img-responsive img-thumbnail' itemprop='contentUrl'>
</a>

</div>

<h2>Teste a conexão via SSH</h2>

<p>Tanto no GitHub quanto no Bitbucket, é possível testar a conexão antes de usá-la propriamente com o Git.</p>

<p>Se você adicionou sua chave SSH à sua conta do GitHub, abra o terminal e execute:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$ ssh -T git@github.com
</code></pre></div>
<p>Com esse comando, você vai tentar acessar remotamente o servidor do GitHub.</p>

<p>Se você ainda não se conectou ao GitHub via SSH, o cliente SSH pergunta se pode confiar na chave fornecida pelo servidor do GitHub:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">The authenticity of host &#39;github.com (192.30.253.112)&#39; can&#39;t be established.
RSA key fingerprint is SHA256:nThbg6kXUpJWGl7E1IGOCspRomTxdCARLviKw6E5SY8.
Are you sure you want to continue connecting (yes/no)? 
</code></pre></div>
<p>Nesse caso, digite <code>yes</code> e tecle <strong>Enter</strong>. Essa pergunta só é feita na primeira vez. O cliente SSH adiciona o servidor do GitHub à lista de computadores conhecidos:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Warning: Permanently added &#39;github.com,192.30.253.112&#39; (RSA) to the list of known hosts.
</code></pre></div>
<p>Como essa conexão é apenas para teste (o GitHub fornece controle de versão com Git, não acesso remoto via SSH), o servidor informa que você conseguiu se autenticar, mas encerra o acesso remoto via SSH:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Hi seunomedeusuario! You&#39;ve successfully authenticated, but GitHub does not provide shell access.
</code></pre></div>
<p>Teste concluído com sucesso, você já pode utilizar o SSH com o GitHub.</p>

<p>Se você adicionou sua chave SSH à sua conta do Bitbucket, o teste é semelhante:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$ ssh -T git@bitbucket.org
The authenticity of host &#39;bitbucket.org (104.192.143.1)&#39; can&#39;t be established.
RSA key fingerprint is SHA256:zzXQOXSRBEiUtuE8AikJYKwbHaxvSc0ojez9YXaGp1A.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added &#39;bitbucket.org,104.192.143.1&#39; (RSA) to the list of known hosts.
logged in as seunomedeusuario.

You can use git or hg to connect to Bitbucket. Shell access is disabled.
</code></pre></div>
<p>Teste efetuado com sucesso, você já pode utilizar o SSH com o Bitbucket.</p>

<h2>Clone um repositório via SSH</h2>

<p>Agora que sabemos que podemos conectar ao GitHub ou ao Bitbucket via SSH, vejamos como clonar um repositório utilizando o SSH em vez do HTTPS.</p>

<p>No GitHub, acesse o repositório de um projeto, clique em <strong>Clone or download</strong> e copie o <a href="https://pt.wikipedia.org/wiki/URL">URL</a> para clonar o repositório usando SSH:</p>

<div class='image no-ads-here text-center' itemscope itemtype='http://schema.org/ImageObject'>
<a href='/files/2017/04/git-ssh-07-pt.jpg' title=''>
<img src='/files/2017/04/git-ssh-07-pt.jpg' alt='' class='img-responsive img-thumbnail' itemprop='contentUrl'>
</a>

</div>

<p>O URL de um repositório do GitHub se parece com:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">git@github.com:seunomedeusuario/nomedoseuprojeto.git
</code></pre></div>
<p>Abra o terminal e execute o comando <code>git clone</code> passando o URL copiado (dica: para colar no terminal, utilize a combinação de teclas <strong>Ctrl + Shift + V</strong>).</p>

<p>Observe que o Git clona o repositório via SSH sem pedir senha:</p>

<div class='image no-ads-here text-center' itemscope itemtype='http://schema.org/ImageObject'>
<a href='/files/2017/04/git-ssh-08-pt.png' title=''>
<img src='/files/2017/04/git-ssh-08-pt.png' alt='' class='img-responsive img-thumbnail' itemprop='contentUrl'>
</a>

</div>

<p>O processo é semelhante se você utiliza o Bitbucket.</p>

<p>No Bitbucket, acesse o repositório de um projeto e copie o URL para clonar o repositório usando SSH:</p>

<div class='image no-ads-here text-center' itemscope itemtype='http://schema.org/ImageObject'>
<a href='/files/2017/04/git-ssh-09-pt.jpg' title=''>
<img src='/files/2017/04/git-ssh-09-pt.jpg' alt='' class='img-responsive img-thumbnail' itemprop='contentUrl'>
</a>

</div>

<p>O URL de um repositório do Bitbucket se parece com:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">git@bitbucket.org:seunomedeusuario/nomedoseuprojeto.git
</code></pre></div>
<p>Abra o terminal e execute o comando <code>git clone</code> passando o URL copiado:</p>

<div class='image no-ads-here text-center' itemscope itemtype='http://schema.org/ImageObject'>
<a href='/files/2017/04/git-ssh-10-pt.png' title=''>
<img src='/files/2017/04/git-ssh-10-pt.png' alt='' class='img-responsive img-thumbnail' itemprop='contentUrl'>
</a>

</div>

<p>Com o Bitbucket, o Git também clona o repositório via SSH sem pedir senha.</p>

<h2>Mude um repositório para SSH</h2>

<p>Os repositórios que acabamos de clonar via SSH seguirão utilizando o protocolo SSH para futuros comandos do Git como <code>git pull</code> e <code>git push</code>. Mas repositórios clonados anteriormente com HTTPS seguirão utilizando o protocolo HTTPS.</p>

<p>Também podemos configurar esses repositórios para utilizar SSH.</p>

<p>Para fazer isso, abra o terminal e mude para a pasta do seu repositório local.</p>

<p>Liste os repositórios remotos existentes e seus URLs com o comando:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$ git remote -v
</code></pre></div>
<p>Sua saída deve ser parecida com:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">origin  https://github.com/seunomedeusuario/nomedoseuprojeto.git (fetch)
origin  https://github.com/seunomedeusuario/nomedoseuprojeto.git (push)
</code></pre></div>
<p>Mude o URL do seu repositório remoto com o comando:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">git remote set-url origin git@github.com:seunomedeusuario/nomedoseuprojeto.git
</code></pre></div>
<p>Execute o comando <code>git remote -v</code> mais uma vez para verificar que o URL do repositório remoto foi alterado:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">origin  git@github.com:seunomedeusuario/nomedoseuprojeto.git (fetch)
origin  git@github.com:seunomedeusuario/nomedoseuprojeto.git (push)
</code></pre></div>
<p>Pronto. Feito isso, o Git passará a utilizar o SSH em vez do HTTPS para sincronizar esse repositório local com o seu equivalente remoto.</p>

<p>Espero que essas dicas possam ser úteis para você como têm sido para mim desde que comecei a usar o Git. Se ficou com dúvida ou algo deu errado, não deixe de comentar! Até a próxima!</p>

<h2>Referências</h2>

<ul>
<li><a href="https://help.github.com/articles/connecting-to-github-with-ssh/">Connecting to GitHub with SSH - User Documentation - GitHub</a></li>
<li><a href="https://confluence.atlassian.com/bitbucket/set-up-ssh-for-git-728138079.html">Set up SSH for Git - Atlassian Documentation</a></li>
<li><a href="https://help.github.com/articles/changing-a-remote-s-url/">Changing a remote&#39;s URL - User Documentation - GitHub</a></li>
</ul>

            </div>
        </div>

        
            <!-- AddThis Sharing Buttons -->
            <div class="gap"></div>
            <h2>
                
                    Gostou? Que tal compartilhar?
                
            </h2>
            <div class="addthis_toolbox addthis_default_style addthis_32x32_style">
                <a class="addthis_button_facebook"></a>
                <a class="addthis_button_twitter"></a>
                <a class="addthis_button_google_plusone_share"></a>
                <a class="addthis_button_email"></a>
                <a class="addthis_button_favorites"></a>
                <a class="addthis addthis_button_print"></a>
                <a class="addthis_button_pdfonline"></a>
                <a class="addthis_button_compact"></a>
                <a class="addthis_counter addthis_bubble_style"></a>
            </div>
            <!-- AddThis Sharing Buttons End -->
        

        
            <!-- Disqus -->
            <div class="gap"></div>
            <h2>
                
                    Comentários
                
            </h2>
            <div class="row">
                <div class="col-xs-12">
                    <div id="disqus_thread"></div>
                    <script type="text/javascript">
                        /* * * CONFIGURATION VARIABLES * * */
                        
                            var disqus_config = function () {
                                this.language = "pt";
                            };
                        
                        var disqus_shortname = 'kamarada';
                        var disqus_url = 'https://kamarada.github.io/pt/2017/04/09/usando-chaves-ssh-com-o-git/';

                        /* * * DON'T EDIT BELOW THIS LINE * * */
                        (function() {
                            var dsq = document.createElement('script');
                            dsq.type = 'text/javascript';
                            dsq.async = true;
                            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                        })();
                    </script>
                    <noscript>
                        <p>Please <a href="http://www.enable-javascript.com/" target="_blank">enable JavaScript</a> to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus</a>.</p>
                    </noscript>
                </div><!-- .col-xs-12 -->
            </div><!-- .row -->
            <!-- Disqus End -->
        
    </article>
</div><!-- .blog-post -->

            </div>
            <div class="col-sm-4">
                <div class="panel panel-default" id="about">
    <div class="panel-heading">
        <h3>
            <a name="about"></a>
            
                Sobre
            
        </h3>
    </div>
    <div class="panel-body" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="Linux Kamarada" />
        <meta itemprop="url" content="https://kamarada.github.io" />
        <p class='text-center' itemprop='logo' itemscope itemtype='http://schema.org/ImageObject'>
            <a href='https://kamarada.github.io/assets/img/TuxKamarada.png' itemprop='url'>
                <img src='https://kamarada.github.io/assets/img/TuxKamarada.png' class='img-responsive img-thumbnail'>
            </a>
            <!--<meta itemprop="width" content=""/>--><!-- TODO Image width -->
            <!--<meta itemprop="height" content=""/>--><!-- TODO Image height -->
        </p>
        <p class="text" itemprop="description">
            
                O Projeto Linux Kamarada é um projeto novo que visa divulgar e promover o Linux como um sistema operacional robusto, seguro, versátil e fácil de usar, adequado para o uso diário seja em casa, no trabalho ou no servidor. Os focos do projeto são principalmente distribuição e documentação.

            
        </p>
        
            <!-- AddThis Follow Buttons -->
            <div class="addthis_toolbox addthis_32x32_style addthis_default_style center-block">
                
                    <a href="https://facebook.com/LinuxKamarada" class="addthis_button_facebook_follow" addthis:userid="LinuxKamarada" itemprop="sameAs"></a>
                
                
                    <a href="https://twitter.com/LinuxKamarada" class="addthis_button_twitter_follow" addthis:userid="LinuxKamarada" itemprop="sameAs"></a>
                
                
                
                
                
                
                    <a href="https://github.com/kamarada" class="addthis_button_github_follow" addthis:userid="kamarada" itemprop="sameAs"></a>
                
                <a href="https://kamarada.github.io/pt/feed.xml" class="addthis_button_rss_follow"></a>
            </div>
            <!-- AddThis Follow Buttons End -->
        
    </div><!-- .panel-body -->
</div><!-- .panel -->

<div class="panel panel-default">
    <div class="panel-heading">
        <h3>
            <a name="author"></a>
            
                Autor
            
        </h3>
    </div>
    <div class="panel-body">
        <div itemprop="author" itemscope itemtype="http://schema.org/Person">
            
                <p class="text-center">
                    <a href="https://secure.gravatar.com/avatar/5415f4267b44aa9f51b6f89ac4d1656b" title="Antônio Vinícius">
                        <img src="https://secure.gravatar.com/avatar/5415f4267b44aa9f51b6f89ac4d1656b" alt="Antônio Vinícius" class="img-circle img-responsive img-thumbnail">
                    </a>
                </p>
            
            
                <p class="lead text-center" itemprop="name">
                    
                        Antônio Vinícius
                    
                </p>
            
            <ul class="contact-list list-unstyled">
                
                    <li><a href="http://www.vinyanalista.com.br" itemprop="url"><i class="fa fa-globe"></i> http://www.vinyanalista.com.br</a></li>
                
            </ul>
        </div>
    </div><!-- .panel-body -->
</div><!-- .panel -->


    <div class="panel panel-default">
        <div class="panel-body">
            <!-- Google AdSense -->
<div class="row">
    <div class="col-xs-12">
        <ins class="adsbygoogle" id="sidebar_ad_unit"
            data-ad-client="ca-pub-5193467168351289"
            data-ad-format="auto"
            data-ad-slot="7329324255"></ins>
    </div><!-- .col-xs-12 -->
</div><!-- .row -->
<!-- End Google AdSense -->

        </div><!-- .col-xs-12 -->
    </div><!-- .row -->


            </div>
        </div>
    </div>

    <footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-xs-12">
                <p class="text-center">
                    Copyright &copy; 2017 <a href='#author'>Antônio Vinícius</a>. Todos os direitos reservados. Baseado no <a href='https://github.com/vinyanalista/material-jekyll-plus'>Material site template for Jekyll PLUS</a>.
                </p>
            </div>
        </div>
    </div>
</footer>

<meta itemprop="description" content="Esse post é para os desenvolvedores. Se você utiliza o sistema de controle de versão Git em conjunto com algum servidor como o GitHub ou o Bitbucket para hospedar e gerenciar seus projetos, deve saber que por padrão a conexão com esses servidores é feita pelo protocolo HTTPS. Isso obriga você a digitar usuário e...">


    <div itemprop="image" itemscope itemtype="http://schema.org/ImageObject">
        <meta itemprop="url" content="https://kamarada.github.io/files/2017/04/git-ssh.png"/>
        <!--<meta itemprop="width" content=""/>--><!-- TODO Image width -->
        <!--<meta itemprop="height" content=""/>--><!-- TODO Image height -->
    </div> 



    <meta itemprop="inLanguage" content="pt"/>



    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES * * */
        
            var disqus_config = function () {
                this.language = "pt";
            };
        
        var disqus_shortname = 'kamarada';
        
        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script'); s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- Disqus End -->



    <!-- Google AdSense -->
    
        <!-- Google AdSense -->
<div class="row">
    <div class="col-xs-12">
        <ins class="adsbygoogle" id="content_ad_unit_2"
            data-ad-client="ca-pub-5193467168351289"
            data-ad-format="auto"
            data-ad-slot="4375857858"></ins>
    </div><!-- .col-xs-12 -->
</div><!-- .row -->
<!-- End Google AdSense -->

    

    <script type="text/javascript">
        adsbygoogle = window.adsbygoogle || [];

        $(document).ready(function(){
            
                var $ad = $('#content_ad_unit_2').closest('.row');
                var $posts = $('.blog-post');
                if (($posts.length > 1) || ($('.blog-archive-title').length > 0)) {
                    // Post listing
                    var post;
                    if ($posts.length > 2) {
                        post = random_number(2, $posts.length);
                    } else {
                        post = 2;
                    }
                    $posts.eq(post - 1).find('.blog-post-content .row').after($ad);
                } else {
                    // Page or post
                    var $paragraphs = $('.blog-post-content p').filter(function() {
                        return ($(this).closest('.no-ads-here').length == 0);
                    });
                    if ($paragraphs.length > 0) {
                        var paragraph;
                        if ($paragraphs.length > 1) {
                            paragraph = random_number(1, $paragraphs.length);
                        } else {
                            paragraph = 1;
                        }
                        $paragraphs.eq(paragraph - 1).after($ad);
                    } else {
                        $ad.remove();
                    }
                }
            
            $('.adsbygoogle').each(function(index, element){
                adsbygoogle.push({});
            });
        });
    </script>
    <!-- Google AdSense End -->



</body>
</html>
